{{template "head" . }}
{{with $data := . }}

<form method="post">
	<h1>Day Report</h1>

	<table class="input-table">
		<colgroup>
			<col style="width:10%;">
			<col style="width:30%;">
		</colgroup>
		<tr>
			<th>Worker</th>
			<td><input type="text" value="Egon Elbre" readonly></td>
		</tr>
		<tr>
			<th>Date</th>
			<td><input type="text" value="2018-03-28" readonly></td>
		</tr>
		<tr>
			<th>Total Hours</th>
			<td><input type="text" value="30h" readonly></td>
		</tr>
		<tr>
			<th>Total Driven</th>
			<td><input type="text" value="55km" readonly></td>
		</tr>
	</table>

	{{ if $data.PostError }}
	<div class="error">{{$data.PostError}}</div>
	{{ end }}
	<input type="hidden" name="request-token" value="{{$data.RequestToken}}"/>

	<datalist id="project">
	{{ range $value := $data.Projects -}}
		<option value="{{$value.ID}} - {{$value.Name}}"></option>
	{{- end }}
	</datalist>

	<datalist id="activity">
	{{ range $value := $data.DefaultActivities -}}
		<option value="{{$value}}"></option>
	{{- end }}
	</datalist>

	<h3>Worked on:</h3>

	<table class="input-table">
		<thead>
			<colgroup>
				<col style="width:30%;">
				<col style="width:30%;">
				<col style="width:4em;">
				<col style="width:2em;">
			</colgroup>  
			<tr>
				<th>Project</th>
				<th>Activity</th>
				<th>HH:MM</th>
				<th class="input-table__cell--noborder"></th>
			</tr>
		</thead>
		<tbody>
			{{ range $index := $data.Entries }}
			<tr>
				<td><input type="text" list="project"></td>
				<td><input type="text" list="activity"></td>
				<td><input type="text"></td>
				<td class="input-table__cell--noborder">
					<button class="input-table__icon-button input-table__icon-button--negative" tabindex=-1 title="Clear">✖</button>
				</td>
			</tr>
			{{ end }}
		</tbody>
		<tfoot>
			<tr>
				<td class="input-table__cell--noborder"></td>
				<td class="input-table__cell--noborder"></td>
				<td class="input-table__cell--noborder"></td>
				<td class="input-table__cell--noborder">
					<button class="input-table__icon-button input-table__icon-button--positive" tabindex=-1 title="Add Row">✚</button>
				</td>
			</tr>
		</tfoot>
	</table>
	
	<div class="form-footer">
		<input class="save-button" type="submit" value="Save">
	</div>
</form>

{{end}}

{{template "foot" . }}